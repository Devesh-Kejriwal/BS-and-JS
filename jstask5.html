<!DOCTYPE html>
<html>

<head>
  <title>Task 5 JS</title>
  <link rel="stylesheet" type="text/css" href="css/jstask5.css" />
</head>

<body>
  <h1>JS Task 5</h1>
  <form action="process_form.php" method="post" id="myForm">
    <label for="name">Name:</label>
    <input type="text" class="form-control" id="name" name="name" placeholder="Name" />
    <span class="error" id="nameError"></span><br /><br />

    <label for="email">Email:</label>
    <input type="email" class="form-control" id="email" name="email" placeholder="Email" />
    <span class="error" id="emailError"></span><br /><br />

    <label for="website">Website:</label>
    <input type="url" class="form-control" id="website" name="website" placeholder="Website" />
    <span class="error" id="websiteError"></span><br /><br />

    <label for="message">Message:</label><br />
    <textarea id="message" class="form-control" name="message" rows="4" cols="50" placeholder="Message"></textarea>
    <span class="error" id="messageError"></span><br /><br />

    <input type="submit" value="Submit" class="form-control" />
  </form>
  <script>
    document.getElementById("myForm").addEventListener("submit", function (event) {
      const inputFields = document.querySelectorAll(".form-control");

      inputFields.forEach(function (field) {
        field.classList.remove("error-input");
      });

      document.querySelectorAll(".error").forEach(function (errorElement) {
        errorElement.textContent = "";
      });

      const name = document.getElementById("name").value;
      const email = document.getElementById("email").value;
      const website = document.getElementById("website").value;
      const message = document.getElementById("message").value;

      if (name.trim() === "") {
        document.getElementById("nameError").textContent =
          "This field is required";
        document.getElementById("name").classList.add("error-input");
      }

      const emailPattern = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailPattern.test(email)) {
        document.getElementById("emailError").textContent =
          "A valid email address is required";
        document.getElementById("email").classList.add("error-input");
      }

      if (website.trim() === "") {
        document.getElementById("websiteError").textContent =
          "A valid URL is required";
        document.getElementById("website").classList.add("error-input");
      }

      if (message.trim() === "") {
        document.getElementById("messageError").textContent =
          "This field is required";
        document.getElementById("message").classList.add("error-input");
      }

      if (name.trim() === "" || !emailPattern.test(email) || website.trim() === "" || message.trim() === "")
        event.preventDefault();
    });
  </script>
</body>

</html>